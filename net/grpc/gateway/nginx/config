ngx_addon_name=grpc_gateway_module
HTTP_MODULES="$HTTP_MODULES grpc_gateway_module"

grpc_gateway_dir=net/grpc/gateway
grpc_gateway_includes=$grpc_gateway_dir \
  $grpc_gateway_dir/backend \
  $grpc_gateway_dir/codec \
  $grpc_gateway_dir/frontend \
  $grpc_gateway_dir/protos \
  $grpc_gateway_dir/runtime  
  
grpc_gateway_h_files=$grpc_gateway_dir/log.h \
  $grpc_gateway_dir/macros.h \
  $grpc_gateway_dir/utils.h \
  $grpc_gateway_dir/log.h \
  $grpc_gateway_dir/backend/backend.h \
  $grpc_gateway_dir/backend/grpc_backend.h \
  $grpc_gateway_dir/backend/grpc_utils.h \
  $grpc_gateway_dir/codec/base64.h \
  $grpc_gateway_dir/codec/decoder.h \
  $grpc_gateway_dir/codec/encoder.h \
  $grpc_gateway_dir/codec/grpc_decoder.h \
  $grpc_gateway_dir/codec/grpc_encoder.h \
  $grpc_gateway_dir/codec/json_decoder.h \
  $grpc_gateway_dir/codec/json_encoder.h \
  $grpc_gateway_dir/codec/proto_decoder.h \
  $grpc_gateway_dir/codec/proto_encoder.h \
  $grpc_gateway_dir/frontend/frontend.h \
  $grpc_gateway_dir/frontend/nginx_bridge.h \
  $grpc_gateway_dir/frontend/nginx_http_frontend.h \
  $grpc_gateway_dir/protos/pair.pb.h \
  $grpc_gateway_dir/protos/status.pb.h \
  $grpc_gateway_dir/runtime/constants.h \
  $grpc_gateway_dir/runtime/grpc_event_queue.h \
  $grpc_gateway_dir/runtime/nginx_notify_queue.h \
  $grpc_gateway_dir/runtime/request.h \
  $grpc_gateway_dir/runtime/response.h \
  $grpc_gateway_dir/runtime/runtime.h \
  $grpc_gateway_dir/runtime/tag.h \
  $grpc_gateway_dir/runtime/types.h

grpc_gateway_cc_files=$grpc_gateway_dir/utils.cc \
  $grpc_gateway_dir/backend/backend.cc \
  $grpc_gateway_dir/backend/grpc_backend.cc \
  $grpc_gateway_dir/backend/grpc_utils.cc \
  $grpc_gateway_dir/codec/base64.cc \
  $grpc_gateway_dir/codec/decoder.cc \
  $grpc_gateway_dir/codec/encoder.cc \
  $grpc_gateway_dir/codec/grpc_decoder.cc \
  $grpc_gateway_dir/codec/grpc_encoder.cc \
  $grpc_gateway_dir/codec/json_decoder.cc \
  $grpc_gateway_dir/codec/json_encoder.cc \
  $grpc_gateway_dir/codec/proto_decoder.cc \
  $grpc_gateway_dir/codec/proto_encoder.cc \
  $grpc_gateway_dir/frontend/frontend.cc \
  $grpc_gateway_dir/frontend/nginx_http_frontend.cc \
  $grpc_gateway_dir/protos/pair.pb.cc \
  $grpc_gateway_dir/protos/status.pb.cc \
  $grpc_gateway_dir/runtime/grpc_event_queue.cc \
  $grpc_gateway_dir/runtime/nginx_notify_queue.cc \
  $grpc_gateway_dir/runtime/request.cc \
  $grpc_gateway_dir/runtime/response.cc \
  $grpc_gateway_dir/runtime/runtime.cc \
  $grpc_gateway_dir/runtime/tag.cc

CORE_INCS="$CORE_INCS $grpc_gateway_includes"
NGX_ADDON_SRCS="$NGX_ADDON_SRCS $ngx_addon_dir/grpc_gateway_module.c $grpc_gateway_cc_files"
NGX_ADDON_DEPS="$NGX_ADDON_DEPS $grpc_gateway_h_files"


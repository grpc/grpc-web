
# Copyright (C) Igor Sysoev
# Copyright (C) Nginx, Inc.


if [ $USE_PCRE = YES -o $PCRE != NONE ]; then
    . $NGX_AUTO/lib/pcre/conf

else
    if [ $USE_PCRE = DISABLED -a $HTTP_REWRITE = YES ]; then

cat << END

$0: error: the HTTP rewrite module requires the PCRE library.
You can either disable the module by using --without-http_rewrite_module
option or you have to enable the PCRE support.

END
        exit 1
    fi
fi


if [ $USE_OPENSSL = YES ]; then
    . $NGX_AUTO/lib/openssl/conf
fi

if [ $USE_MD5 = YES ]; then

    if [ $USE_OPENSSL = YES ]; then
        have=NGX_HAVE_OPENSSL_MD5_H . $NGX_AUTO/have
        have=NGX_OPENSSL_MD5 . $NGX_AUTO/have
        have=NGX_HAVE_MD5 . $NGX_AUTO/have
        MD5=YES
        MD5_LIB=OpenSSL

    else
        . $NGX_AUTO/lib/md5/conf
    fi

fi

if [ $USE_SHA1 = YES ]; then

    if [ $USE_OPENSSL = YES ]; then
        have=NGX_HAVE_OPENSSL_SHA1_H . $NGX_AUTO/have
        have=NGX_HAVE_SHA1 . $NGX_AUTO/have
        SHA1=YES
        SHA1_LIB=OpenSSL

    else
        . $NGX_AUTO/lib/sha1/conf
    fi

fi

if [ $USE_ZLIB = YES ]; then
    . $NGX_AUTO/lib/zlib/conf
fi

if [ $USE_LIBXSLT != NO ]; then
    . $NGX_AUTO/lib/libxslt/conf
fi

if [ $USE_LIBGD != NO ]; then
    . $NGX_AUTO/lib/libgd/conf
fi

if [ $USE_PERL != NO ]; then
    . $NGX_AUTO/lib/perl/conf
fi

if [ $USE_GEOIP != NO ]; then
    . $NGX_AUTO/lib/geoip/conf
fi

if [ $NGX_GOOGLE_PERFTOOLS = YES ]; then
    . $NGX_AUTO/lib/google-perftools/conf
fi

if [ $NGX_LIBATOMIC != NO ]; then
    . $NGX_AUTO/lib/libatomic/conf
fi
